# üîë –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ SSH –∫–ª—é—á–∞–º –¥–ª—è GitHub Actions

## üìç –ì–¥–µ –Ω–∞–π—Ç–∏ SSH –∫–ª—é—á–∏

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è:
```bash
# macOS/Linux
~/.ssh/id_rsa          # RSA –∫–ª—é—á (—Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç)
~/.ssh/id_ed25519      # Ed25519 –∫–ª—é—á (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)
~/.ssh/id_ecdsa        # ECDSA –∫–ª—é—á

# Windows
C:\Users\YourUsername\.ssh\id_rsa
C:\Users\YourUsername\.ssh\id_ed25519
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª—é—á–µ–π:
```bash
ls -la ~/.ssh/
```

## üîç –ü–æ–∏—Å–∫ SSH –∫–ª—é—á–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª—é—á–µ–π:
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –≤ .ssh –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
ls -la ~/.ssh/

# –ò—Å–∫–∞—Ç—å –≤—Å–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏
find ~/.ssh/ -name "id_*" -type f ! -name "*.pub"
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∫–ª—é—á–∞:
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
cat ~/.ssh/id_ed25519

# –ü–æ–∫–∞–∑–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
cat ~/.ssh/id_ed25519.pub
```

## üÜï –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ SSH –∫–ª—é—á–∞

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Ed25519 –∫–ª—é—á–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
```bash
ssh-keygen -t ed25519 -C "your_email@example.com"
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ RSA –∫–ª—é—á–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å):
```bash
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
```

### 3. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:
```bash
ssh-keygen -t ed25519 -C "your_email@example.com"
# Enter file in which to save the key (/Users/username/.ssh/id_ed25519): [Enter]
# Enter passphrase (empty for no passphrase): [Enter –¥–ª—è –ø—É—Å—Ç–æ–π –ø–∞—Ä–æ–ª—å–Ω–æ–π —Ñ—Ä–∞–∑—ã]
# Enter same passphrase again: [Enter]
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–∞ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞

### 1. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
ssh-copy-id username@server_ip

# –†—É—á–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
cat ~/.ssh/id_ed25519.pub | ssh username@server_ip "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh username@server_ip

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```bash
ssh username@server_ip
```

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Actions

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞:
```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞
cat ~/.ssh/id_ed25519
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞ –≤ GitHub:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. Settings ‚Üí Secrets and variables ‚Üí Actions
3. New repository secret
4. Name: `KEY`
5. Value: –≤—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞

### 3. –î—Ä—É–≥–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ–∫—Ä–µ—Ç—ã:
- `HOST` - IP –∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω —Å–µ—Ä–≤–µ—Ä–∞
- `USERNAME` - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- `PORT` - SSH –ø–æ—Ä—Ç (–æ–±—ã—á–Ω–æ 22)

## üõ† –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –°–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSH:
```bash
#!/bin/bash
# setup-ssh.sh

echo "üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –¥–ª—è GitHub Actions..."

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–ª—é—á–∞
if [ ! -f ~/.ssh/id_ed25519 ]; then
    echo "üìù –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ SSH –∫–ª—é—á–∞..."
    ssh-keygen -t ed25519 -C "github-actions@cheekybot" -f ~/.ssh/id_ed25519 -N ""
else
    echo "‚úÖ SSH –∫–ª—é—á —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
fi

# –ü–æ–∫–∞–∑–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
echo "üìã –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (–¥–æ–±–∞–≤—å—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä):"
cat ~/.ssh/id_ed25519.pub

echo ""
echo "üîê –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (–¥–æ–±–∞–≤—å—Ç–µ –≤ GitHub Secrets –∫–∞–∫ KEY):"
cat ~/.ssh/id_ed25519

echo ""
echo "üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:"
echo "1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä: ssh-copy-id username@server_ip"
echo "2. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤ GitHub Secrets –∫–∞–∫ KEY"
echo "3. –î–æ–±–∞–≤—å—Ç–µ HOST, USERNAME –∏ PORT –≤ GitHub Secrets"
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Ed25519** –≤–º–µ—Å—Ç–æ RSA (–±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π)
2. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–æ–ª—å–Ω—É—é —Ñ—Ä–∞–∑—É** –¥–ª—è GitHub Actions (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)
3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞** –∫–ª—é—á–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
4. **–†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ—Ç–∏—Ä—É–π—Ç–µ** –∫–ª—é—á–∏
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª—é—á** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# –í ~/.ssh/authorized_keys –¥–æ–±–∞–≤—å—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
command="docker-compose up -d",no-port-forwarding,no-X11-forwarding,no-agent-forwarding ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAI...
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: Permission denied
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
ls -la ~/.ssh/
chmod 700 ~/.ssh
chmod 600 ~/.ssh/id_ed25519
chmod 644 ~/.ssh/id_ed25519.pub
```

### –ü—Ä–æ–±–ª–µ–º–∞: SSH –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å verbose —Ä–µ–∂–∏–º–æ–º
ssh -v username@server_ip

# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH –∞–≥–µ–Ω—Ç–∞
ssh-add -l
ssh-add ~/.ssh/id_ed25519
```

### –ü—Ä–æ–±–ª–µ–º–∞: GitHub Actions –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Å–µ–∫—Ä–µ—Ç–æ–≤
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –¥–æ—Å—Ç—É–ø –≤—Ä—É—á–Ω—É—é
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ GitHub Actions

## üìã –ß–µ–∫-–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- [ ] SSH –∫–ª—é—á —Å–æ–∑–¥–∞–Ω (`ssh-keygen -t ed25519`)
- [ ] –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä (`ssh-copy-id`)
- [ ] –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets –∫–∞–∫ `KEY`
- [ ] IP —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets –∫–∞–∫ `HOST`
- [ ] –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ GitHub Secrets –∫–∞–∫ `USERNAME`
- [ ] SSH –ø–æ—Ä—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets –∫–∞–∫ `PORT`
- [ ] SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤—Ä—É—á–Ω—É—é
- [ ] GitHub Actions workflow –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [GitHub SSH Keys](https://docs.github.com/en/authentication/connecting-to-github-with-ssh)
- [SSH Key Types](https://www.ssh.com/academy/ssh/key)
- [GitHub Actions SSH](https://docs.github.com/en/actions/using-workflows/using-ssh-keys-in-workflows)

---

**SSH –∫–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üîë** 